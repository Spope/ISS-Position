<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
    <script src="js/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="js/bower_components/three.js/three.js"></script>
    <script src="js/others/orbitControll.js"></script>
    <script src="js/others/xmlToJson.js"></script>
    <script src="js/others/atmospherematerial.js"></script>
    <script src="js/others/suncalc.js"></script>
    <title></title>
</head>
<body>
    
</body>
<script id="fragmentShader" type="x-shader/x-fragment">
    uniform sampler2D dayTexture;
    uniform sampler2D nightTexture;

    uniform vec3 sunDirection;

    varying vec2 vUv;
    varying vec3 vNormal;

    void main( void ) {
        vec3 dayColor = texture2D( dayTexture, vUv ).rgb;
        vec3 nightColor = texture2D( nightTexture, vUv ).rgb;

        // compute cosine sun to normal so -1 is away from sun and +1 is toward sun.
        float cosineAngleSunToNormal = dot(normalize(vNormal), sunDirection);

        // sharpen the edge beween the transition
        cosineAngleSunToNormal = clamp( cosineAngleSunToNormal * 10.0, -1.0, 1.0);

        // convert to 0 to 1 for mixing
        float mixAmount = cosineAngleSunToNormal * 0.5 + 0.5;

        // Select day or night texture based on mix.
        vec3 color = mix( nightColor, dayColor, mixAmount );

        gl_FragColor = vec4( color, 1.0 );
        //gl_FragColor = vec4( mixAmount, mixAmount, mixAmount, 1.0 );
    }
</script>
<script id="vertexShader" type="x-shader/x-vertex">
    varying vec2 vUv;
    varying vec3 vNormal;

    void main()
    {
        vUv = uv;
        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
        vNormal = normalMatrix * normal;
        gl_Position = projectionMatrix * mvPosition;
    }
</script>
<script src="js/earth.js"></script>
<script src="js/scene.js"></script>
<script src="js/nasaRequest.js"></script>
<script src="js/nasaWebservice.js"></script>
</html>
